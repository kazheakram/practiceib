<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>IB Mock Exam Tool</title>
  <style>
    body {
      font-family: "Inter", sans-serif;
      background-color: #fdf6f9;
      color: #333;
      text-align: center;
      padding: 40px;
    }
    h1 {
      color: #c278b3;
      font-size: 2.2em;
    }
    select, button {
      padding: 10px;
      border-radius: 8px;
      border: 1px solid #ccc;
      margin: 10px;
      font-size: 1em;
    }
    button {
      background-color: #c278b3;
      color: white;
      border: none;
      cursor: pointer;
      transition: 0.2s;
    }
    button:hover {
      background-color: #a85a97;
    }
    #output {
      margin-top: 30px;
      text-align: left;
      background: white;
      border-radius: 12px;
      padding: 20px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
      width: 70%;
      margin-inline: auto;
    }
    .timer {
      font-weight: bold;
      color: #c278b3;
    }
  </style>
</head>
<body>
  <h1>IB Mock Exam Tool</h1>

  <label>Subject:</label>
  <select id="subject">
    <option value="">-- Choose Subject --</option>
    <option value="english">English</option>
    <option value="global_politics">Global Politics</option>
  </select>

  <label>Level:</label>
  <select id="level">
    <option value="">-- Choose Level --</option>
    <option value="sl">SL</option>
    <option value="hl">HL</option>
  </select>

  <label>Topic:</label>
  <input id="topic" type="text" placeholder="e.g. Persepolis" />

  <label>Paper:</label>
  <select id="paper">
    <option value="">-- Choose Paper --</option>
    <option value="1">Paper 1</option>
    <option value="2">Paper 2</option>
  </select>

  <br />
  <button onclick="startMock()">Start Mock Exam</button>

  <div id="output"></div>

  <script>
    function startMock() {
      const subject = document.getElementById("subject").value;
      const level = document.getElementById("level").value;
      const topic = document.getElementById("topic").value.trim();
      const paper = document.getElementById("paper").value;
      const output = document.getElementById("output");

      if (!subject || !level || !topic || !paper) {
        alert("Please fill out all fields!");
        return;
      }

      let examTime = paper === "1" ? 60 : 120;
      let rubric = "";

      if (subject === "english") {
        rubric = `
          <h3>English ${level.toUpperCase()} Paper ${paper}</h3>
          <ul>
            <li>Criterion A: Understanding and Interpretation (10 marks)</li>
            <li>Criterion B: Analysis and Evaluation (10 marks)</li>
            <li>Criterion C: Focus, Organization, and Development (5 marks)</li>
            <li>Criterion D: Language (5 marks)</li>
          </ul>
        `;
      } else {
        rubric = `
          <h3>Global Politics ${level.toUpperCase()} Paper ${paper}</h3>
          <ul>
            <li>Criterion A: Knowledge and Understanding (10 marks)</li>
            <li>Criterion B: Application and Analysis (10 marks)</li>
            <li>Criterion C: Synthesis and Evaluation (10 marks)</li>
            <li>Criterion D: Use of Sources and Evidence (10 marks)</li>
          </ul>
        `;
      }

      output.innerHTML = `
        <h2>Exam Started: ${subject.replace("_", " ")} - ${topic}</h2>
        <p><span class="timer">Timer: ${examTime} minutes</span></p>
        <p>Write your essay in a separate document or notes app. When finished, use the IB rubric below to self-assess.</p>
        ${rubric}
        <button onclick="endMock()">Finish Exam</button>
      `;

      let remaining = examTime * 60;
      const timerInterval = setInterval(() => {
        if (remaining <= 0) {
          clearInterval(timerInterval);
          endMock();
        } else {
          remaining--;
          document.querySelector(".timer").textContent = "Timer: " + Math.floor(remaining/60) + "m " + (remaining%60) + "s";
        }
      }, 1000);
    }

    function endMock() {
      const output = document.getElementById("output");
      output.innerHTML += `
        <hr><h3>Exam Ended</h3>
        <p>You can now compare your answer against the IB rubric above.</p>
      `;
    }
  </script>
</body>
</html>
